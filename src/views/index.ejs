<%- include("includes/head.ejs") %>
<%- include("includes/nav.ejs") %>

<div class="container">
      <div class="row">
            <div class="cow-lg-2"></div>

            <div class="cow-lg-8 my-3">
                  <h1 class="text-center">Agenda</h1>
                  <p class="text-center lead">Seus contatos estão abaixo</p>
                  <!-- Mensagem de erro-->
                  <%- include("includes/messages") %>
                  

                  <!--Tabela com contatos-->
                  <% if(contatos.length > 0) { %>

                  <div class="responsive-table">
                        <table class="table my-3">
                              <!-- Itera cada um dos contatos na tela para o usuario -->
                              <% contatos.forEach(contato => { %>
                                    <tr class="my-3">
                                          <td><%= contato.nome %></td>
                                          <td><%= contato.sobrenome %></td>
                                          <td><%= contato.email %></td>
                                          <td><%= contato.telefone %></td>
                                          <td><a href="/contato/index/<%= contato.id %>">Editar</a></td>  
                                          <td><a class="text-danger" href="/contato/delete/<%= contato.id %>">Deletar</a></td>   
                                    </tr>
                              <% }) %>

                        </table>
                  </div>
                  <% } else { %>
                        <p class="text-center lead">Não existem contatos cadastrados</p>
                  <% } %>
                        
            </div> <!--cow-lg-8-->

            <div class="cow-lg-2"></div>
       </div>
</div>
      

<%- include("includes/footer.ejs") %>
